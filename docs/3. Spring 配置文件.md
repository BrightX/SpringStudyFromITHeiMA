# 3. Spring 配置文件

## Bean标签基本配置

用于配置对象交由**Spring**来创建。

默认情况下它调用的是类中的**无参构造方法**，如果没有无参构造方法则不能创建成功。

基本属性：

* `id`：Bean实例在Spring容器中的唯一标识
* `class`：Bean的全限定名称

## Bean标签范围配置

* `scope`：指定对象的作用范围，取值如下：

|    取值范围    | 说明                                                         |
| :------------: | ------------------------------------------------------------ |
| **singleton**  | 默认值，单例的                                               |
| **prototype**  | 多例的                                                       |
|    request     | Web项目中，Spring创建一个Bean对象，将对象存到`request`作用域中 |
|    session     | Web项目中，Spring创建一个Bean对象，将对象存到`session`作用域中 |
| global session | Web项目中，应用在Portlet环境，如果没有Portlet环境那么`globalSession`相当于`session` |

当`scope`的取值是 `singleton`时：

Bean的实例化个数：1个

Bean的实例化时机：当Spring核心配置文件被加载时，实例化配置的Bean实例

Bean的生命周期：

* 对象创建：当应用加载，创建容器时，对象就被创建了
* 对象运行：只要容器在，对象一直活着
* 对象销毁：当应用卸载，容器销毁时，对象销毁

---

当`scope`的取值是 `prototype`时：

Bean的实例化个数：多个

Bean的实例化时机：当调用getBean()方法时，实例化配置的Bean

Bean的生命周期：

* 对象创建：当使用对象时，创建新的对象
* 对象运行：只要对象在使用中，对象一直活着
* 对象销毁：当对象长时间不使用了，被Java的垃圾回收器回收

## Bean生命周期配置

* `init`：指定类中的初始化方法名称
* `destroy-method`：指定类中销毁方法名称

##  Bean实例化的三种方式

* 无参**构造**方法实例化（常用，重点）
* 工厂**静态**方法实例化
* 工厂**实例**方法实例化
